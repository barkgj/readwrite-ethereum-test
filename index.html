<!doctype html>
<html lang="en-US" >
<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.0-rc.0/web3.min.js" integrity="sha512-/PTXSvaFzmO4So7Ghyq+DEZOz0sNLU4v1DP4gMOfY3kFu9L/IKoqSHZ6lNl3ZoZ7wT20io3vu/U4IchGcGIhfw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
	<script>
		
		const ERC20TransferABI = [{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"numbers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"celidentifier","type":"string"}],"name":"retrieve","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"celidentifier","type":"string"},{"internalType":"uint256","name":"waarde","type":"uint256"}],"name":"store","outputs":[],"stateMutability":"nonpayable","type":"function"}];
		
		const DAI_ADDRESS = "0x30309F81e6b081caFA94483E7abDd92eAA381733";
		
		// const web3 = new Web3("http://localhost:8545")
		// taken from https://ethereum.stackexchange.com/questions/36920/cannot-connect-to-rinkeby-using-web3-from-8545-node-js
		const web3 = new Web3(new Web3.providers.HttpProvider("https://rinkeby.infura.io/v3/2dfd8735fe964fa7b2bd6d317dedddaa"));
		
		const daiToken = new web3.eth.Contract(ERC20TransferABI, DAI_ADDRESS);
		
		function notary_init() 
		{
	    // Check if Web3 has been injected by the browser (Mist/MetaMask)
	    if (typeof web3 !== 'undefined') {
	        // Use existing gateway
	        window.web3 = new Web3(web3.currentProvider);
	    } else {
	        alert("No Ethereum interface injected into browser. Read-only access");
	    }
	
	    ethereum.enable()
			.then(function (accounts) {
			  // You now have an array of accounts!
			  // Currently only ever one:
			  // ['0xFDEa65C8e26263F6d9A1B5de9555D2931A33b825']
			})
			.catch(function (error) {
			  // Handle error. Likely the user rejected the login
			  console.error(error)
			})
		}
		
		function slaHetOp(celidentifier, waarde)
		{
			daiToken.methods.store("paul", 10).send
			(
				{
					from: "0x5369D6e46889ea125b12F6C106e1F8d38b26AB12"
				},			
				function (err, res) 
				{
				  if (err) {
				    console.log("An error occured", err)
				    return
				  }
				  jQuery('#storeoutputspan').text(res);
				  console.log(res);
				}
			);
			
			/*
			ethereum
	    .request({
	      method: 'store',
	      params: [
	        {
	          celidentifier: 'piep'
	          waarde: 666,
	          gasPrice: '0x09184e72a000',
	          gas: '0x2710',
	        },
	      ],
	    })
	    .then((txHash) => console.log(txHash))
	    .catch((error) => console.error);
			*/
		}
		
		function haalHetOp()
		{
			daiToken.methods.retrieve("mies").call
			(
				function (err, res) 
				{
				  if (err) {
				    console.log("An error occured", err)
				    return
				  }
				  jQuery('#retrievespan').text(res);
				}
			);
		}


	</script>
	
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title></title>
<link rel='dns-prefetch' href='//ethereum.c1.us-e1.nexusthemes.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title=" &raquo; Feed" href="http://ethereum.c1.us-e1.nexusthemes.com/feed/" />
<link rel="alternate" type="application/rss+xml" title=" &raquo; Comments Feed" href="http://ethereum.c1.us-e1.nexusthemes.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title=" &raquo; Home Comments Feed" href="http://ethereum.c1.us-e1.nexusthemes.com/home/feed/" />
		<script>
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ethereum.c1.us-e1.nexusthemes.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4.9"}};
			/*! This file is auto-generated */
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style>
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='http://ethereum.c1.us-e1.nexusthemes.com/wp-includes/css/dist/block-library/style.min.css?ver=5.4.9' media='all' />
<link rel='stylesheet' id='wp-block-library-theme-css'  href='http://ethereum.c1.us-e1.nexusthemes.com/wp-includes/css/dist/block-library/theme.min.css?ver=5.4.9' media='all' />
<link rel='stylesheet' id='twenty-twenty-one-style-css'  href='http://ethereum.c1.us-e1.nexusthemes.com/wp-content/themes/readwrite-ethereum-test/style.css?ver=1.4' media='all' />
<link rel='stylesheet' id='twenty-twenty-one-print-style-css'  href='http://ethereum.c1.us-e1.nexusthemes.com/wp-content/themes/readwrite-ethereum-test/assets/css/print.css?ver=1.4' media='print' />
<link rel='https://api.w.org/' href='http://ethereum.c1.us-e1.nexusthemes.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ethereum.c1.us-e1.nexusthemes.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ethereum.c1.us-e1.nexusthemes.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.4.9" />
<link rel="canonical" href="http://ethereum.c1.us-e1.nexusthemes.com/" />
<link rel='shortlink' href='http://ethereum.c1.us-e1.nexusthemes.com/' />
<link rel="alternate" type="application/json+oembed" href="http://ethereum.c1.us-e1.nexusthemes.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fethereum.c1.us-e1.nexusthemes.com%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://ethereum.c1.us-e1.nexusthemes.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fethereum.c1.us-e1.nexusthemes.com%2F&#038;format=xml" />
<!-- start Simple Custom CSS and JS -->
<script>
// contract instance id: 

/* abi:



*/






</script>
<!-- end Simple Custom CSS and JS -->
<link rel="pingback" href="http://ethereum.c1.us-e1.nexusthemes.com/xmlrpc.php"><style>.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style></head>

<body class="home page-template-default page page-id-8 wp-embed-responsive is-light-theme no-js singular">


<div id="page" class="site">
	
	
	
	
<header id="masthead" class="site-header has-title-and-tagline" role="banner">

	

<div class="site-branding">

	
	
	</div><!-- .site-branding -->
	

</header><!-- #masthead -->

	<div id="content" class="site-content">
		<div id="primary" class="content-area">
			<main id="main" class="site-main" role="main">
					<button onclick='notary_init();' text='x'>metamask login</button>

	<div>
		<span id='retrievespan'>Not retrieved yet</span>
		<button onclick='haalHetOp();' text='knoppie'>knop</button>
	</div>
	
	<div>
		celidentifier (tekst):<br />
		<input type='text' id='celidentifier' /><br />
		waarde (getal):<br />
		<input type='text' id='waarde' /><br />
		<button onclick="slaHetOp(jQuery('#celidentifier').text(), jQuery('#waarde').text());" text='knoppie'>knop</button>
		<br />
		<span id='storeoutputspan'>Not stored yet</span>
		
	</div>

</body>
</html>
